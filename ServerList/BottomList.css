/* ============================================
   BOTTOM HORIZONTAL SERVER LIST
   ============================================
   
   This CSS moves the horizontal server list to the bottom
   of Discord instead of the top.
   
   Based on HorizontalServerList by DiscordStyles
   ============================================ */

/* ============================================
   CSS VARIABLES FOR BOTTOM POSITIONING
   ============================================ */

:root {
    --custom-guild-list-width: 72px; /* Width of the horizontal server list */
    --custom-app-top-bar-height: 0px; /* Height of Discord's top bar */
    --notices-height: 36px;
    --serverlist-offset: var(--custom-guild-list-width);
}

/* ============================================
   OVERRIDE TOP POSITIONING - FORCE BOTTOM
   ============================================ */

/* Override any top positioning from HorizontalServerList.css */
#app-mount .guilds_c48ade {
    top: unset !important;
    bottom: 0 !important;
    transform-origin: bottom left !important;
}

/* Override content margins from top positioning */
.base_c48ade[data-fullscreen="false"] .content_c48ade {
    margin-top: unset !important;
    margin-bottom: var(--serverlist-offset) !important;
    overflow: visible !important;
}

/* ============================================
   CONTENT ADJUSTMENT FOR BOTTOM SERVER LIST
   ============================================ */

.content_c48ade {
    margin-top: unset !important;
    margin-bottom: var(--custom-guild-list-width) !important;
}

/* ============================================
   SERVER LIST BOTTOM POSITIONING
   ============================================ */

#app-mount .guilds_c48ade {
    top: calc(100% + var(--custom-guild-list-width)) !important;
    bottom: unset !important;
}

/* ============================================
   BETTERFOLDERS / VENCORD COMPATIBILITY
   ============================================ */

.container_c48ade > div[style]:not(.base_c48ade) {
    bottom: calc(var(--custom-guild-list-width) * 2) !important;
    top: unset !important;
    width: 100vw !important;
    height: var(--serverlist-offset) !important;
    position: absolute;
    pointer-events: none;
    z-index: 1000;
}

.container_c48ade > div[style]:not(.base_c48ade) .guilds_c48ade {
    top: calc(100% + var(--custom-guild-list-width) * 2) !important;
    pointer-events: all;
}

.container_c48ade > div[style]:not(.base_c48ade) + .base_c48ade .content_c48ade {
    margin-top: unset !important;
    margin-bottom: calc(var(--serverlist-offset) * 2) !important;
}

/* ============================================
   NOTICES HANDLING FOR BOTTOM POSITIONING
   ============================================ */

.notice__6e2b9 {
    height: var(--notices-height);
}

.notice__6e2b9 + .content_c48ade {
    --serverlist-offset: calc(var(--notices-height) + var(--custom-guild-list-width));
    margin-bottom: var(--serverlist-offset) !important;
}

/* ============================================
   FORCE BOTTOM POSITIONING OVERRIDES
   ============================================ */

/* Ensure server list stays at bottom regardless of other CSS */
#app-mount .sidebar_c48ade .guilds_c48ade {
    position: absolute !important;
    bottom: 0 !important;
    top: unset !important;
    left: 0 !important;
    width: 100vw !important;
    height: var(--custom-guild-list-width) !important;
    transform-origin: bottom left !important;
    rotate: -90deg !important;
    z-index: 1000 !important;
}

/* Override any conflicting positioning */
#app-mount .guilds_c48ade {
    transform-origin: bottom left !important;
    rotate: -90deg !important;
    height: 100vw !important;
    bottom: unset !important;
    position: absolute !important;
    left: 0 !important;
    top: calc(100% + var(--custom-guild-list-width)) !important;
}
