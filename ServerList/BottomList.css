/* ============================================
   BOTTOM HORIZONTAL SERVER LIST ADDON
   ============================================
   
   This CSS addon works with HorizontalServerList.css to move
   the horizontal server list to the bottom of Discord.
   
   IMPORTANT: This file should be imported AFTER HorizontalServerList.css
   
   Based on HorizontalServerList by DiscordStyles
   ============================================ */

/* ============================================
   CSS VARIABLES FOR BOTTOM POSITIONING
   ============================================ */

:root {
    --custom-guild-list-width: 72px; /* Width of the horizontal server list */
    --custom-app-top-bar-height: 0px; /* Height of Discord's top bar */
}

/* ============================================
   OVERRIDE TOP POSITIONING - MOVE TO BOTTOM
   ============================================ */

/* Override content margins from top positioning */
.base_c48ade[data-fullscreen="false"] .content_c48ade {
    margin-top: unset !important;
    margin-bottom: var(--serverlist-offset) !important;
}

/* Override server list positioning from top to bottom */
#app-mount .guilds_c48ade {
    transform-origin: bottom left !important;
    top: calc(100% + var(--custom-guild-list-width)) !important;
    bottom: unset !important;
    left: 0 !important;
    width: 100vw !important;
    height: var(--custom-guild-list-width) !important;
    position: absolute !important;
    z-index: 1000 !important;
}

/* ============================================
   BOTTOM SERVER LIST POSITIONING
   ============================================ */

.content_c48ade {
    margin-top: unset !important;
    margin-bottom: var(--custom-guild-list-width) !important;
}

#app-mount .guilds_c48ade {
    top: calc(100% + var(--custom-guild-list-width)) !important;
}

/* ============================================
   BETTERFOLDERS / VENCORD COMPATIBILITY
   ============================================ */

.container_c48ade > div[style]:not(.base_c48ade) {
    bottom: calc(var(--custom-guild-list-width) * 2) !important;
    top: unset !important;
}

.container_c48ade > div[style]:not(.base_c48ade) .guilds_c48ade {
    top: calc(100% + var(--custom-guild-list-width) * 2) !important;
}

.container_c48ade > div[style]:not(.base_c48ade) + .base_c48ade .content_c48ade {
    margin-top: unset !important;
    margin-bottom: calc(var(--custom-guild-list-width) * 2) !important;
}

/* ============================================
   FINAL BOTTOM POSITIONING OVERRIDES
   ============================================ */

/* Ensure server list stays at bottom regardless of other CSS */
#app-mount .sidebar_c48ade .guilds_c48ade {
    transform-origin: bottom left !important;
    top: calc(100% + var(--custom-guild-list-width)) !important;
    bottom: unset !important;
    left: 0 !important;
    width: 100vw !important;
    height: var(--custom-guild-list-width) !important;
    position: absolute !important;
    z-index: 1000 !important;
}

/* Final override to ensure bottom positioning */
#app-mount .guilds_c48ade {
    transform-origin: bottom left !important;
    top: calc(100% + var(--custom-guild-list-width)) !important;
    bottom: unset !important;
    left: 0 !important;
    width: 100vw !important;
    height: var(--custom-guild-list-width) !important;
    position: absolute !important;
    z-index: 1000 !important;
}

/* ============================================
   VISIBILITY FIXES
   ============================================ */

/* Ensure the server list is visible */
#app-mount .guilds_c48ade {
    opacity: 1 !important;
    visibility: visible !important;
    display: block !important;
}

/* Fix rotation for bottom positioning */
#app-mount .guilds_c48ade {
    rotate: -90deg !important;
    transform-origin: bottom left !important;
}

/* Ensure server icons are visible */
#app-mount .guilds_c48ade .wrapper_cc5dd2 {
    rotate: 90deg !important;
    opacity: 1 !important;
    visibility: visible !important;
}
