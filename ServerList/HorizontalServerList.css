/* ============================================
   HORIZONTAL SERVER LIST - CORE FUNCTIONALITY
   ============================================
   
   This CSS transforms Discord's vertical server list
   into a horizontal layout at the top of the interface.
   
   Based on HorizontalServerList by DiscordStyles
   ============================================ */

:root {
    --notices-height: 36px;
    --serverlist-offset: var(--custom-guild-list-width);
}

/* ============================================
   MAIN CONTENT ADJUSTMENT
   ============================================ */

.base_c48ade[data-fullscreen="false"] .content_c48ade {
    margin-top: var(--serverlist-offset);
    overflow: visible !important;
}

/* ============================================
   SERVER LIST CONTAINER TRANSFORMATION
   ============================================ */

#app-mount {
    .sidebar_c48ade {
        border-radius: 0;
        overflow: visible !important;
    }

    /* Rotate the entire server list container */
    .guilds_c48ade {
        transform-origin: top left;
        rotate: -90deg;
        height: 100vw !important;
        bottom: unset;
        position: absolute !important;
        left: 0;
    }

    /* Server list tree styling */
    .tree_ef3116 {
        padding-top: var(--HSL-top-padding, var(--size-sm));
    }

    /* Rotate individual server icons back to normal */
    .wrapper_cc5dd2 {
        rotate: 90deg;
    }

    /* Server list direction and alignment */
    .itemsContainer_ef3116,
    .stack_dbd263 {
        flex-direction: var(--HSL-server-direction);
        justify-content: var(--HSL-server-alignment);
    }

    /* ============================================
       NOTICES HANDLING
       ============================================ */
    
    .notice__6e2b9 {
        height: var(--notices-height);

        & + .content_c48ade {
            --serverlist-offset: calc(var(--notices-height) + var(--custom-guild-list-width));
        }
    }
}

/* ============================================
   BETTERFOLDERS / VENCORD COMPATIBILITY
   ============================================ */

.container_c48ade > div[style]:not(.base_c48ade) {
    width: 100vw !important;
    height: var(--serverlist-offset) !important;
    position: absolute;
    top: calc(var(--serverlist-offset) + var(--custom-app-top-bar-height));
    pointer-events: none;
    z-index: 1;

    .guilds_c48ade {
        pointer-events: all;
    }

    & + .base_c48ade .content_c48ade {
        margin-top: calc(var(--serverlist-offset) * 2);
    }
}


/* ============================================
   CONFIGURATION VARIABLES
   ============================================ */

:root {
    --HSL-server-direction: column; /* Direction: column, column-reverse */
    --HSL-server-alignment: flex-start; /* Alignment: flex-start, center, flex-end */
    --HSL-top-padding: var(--size-sm); /* Top padding for server list */
}
