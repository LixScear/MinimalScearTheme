/* ============================================
   STATUS INDICATOR - RADIAL STATUS THEME V2
   ============================================ */

/* ============================================
   CSS VARIABLES & VERSION INFO
   ============================================ */

   :root {
    /* Status Indicater theme version */
    --rs-version: "2.0.0";
}

/* ============================================
   CORE AVATAR WRAPPER STYLING
   ============================================ */

#app-mount .wrapper__44b0c {
    /* Apply custom border radius from theme variables */
    border-radius: var(--rs-avatar-shape);
}

/* SVG container adjustments */
#app-mount .wrapper__44b0c svg:not(:root) {
    /* Allow SVG content to overflow for proper rendering */
    overflow: visible;
    contain: none;
}

/* Remove mask from foreign objects */
#app-mount .wrapper__44b0c foreignObject {
    -webkit-mask: none;
    mask: none;
}

/* ============================================
   TYPING INDICATOR DOTS POSITIONING
   ============================================ */

/* Position typing indicator dots */
#app-mount .wrapper__44b0c .dots__5ad89 circle {
    cy: -8 !important;
}

/* Individual dot positioning */
#app-mount .wrapper__44b0c .dots__5ad89 circle:nth-child(1) {
    cx: -8.5 !important;
}

#app-mount .wrapper__44b0c .dots__5ad89 circle:nth-child(2) {
    cx: -2.25 !important;
}

#app-mount .wrapper__44b0c .dots__5ad89 circle:nth-child(3) {
    cx: 4 !important;
}

/* ============================================
   MASK ELEMENT ADJUSTMENTS
   ============================================ */

/* Reset mask rectangle positioning */
#app-mount .wrapper__44b0c .mask__44b0c > rect[x="22"] {
    x: 0;
    y: 0;
}

/* Hide mask circle and adjust positioning */
#app-mount .wrapper__44b0c .mask__44b0c > circle {
    opacity: 0 !important;
    width: 100%;
    height: 100%;
    cx: 43%;
    cy: 20;
}

/* ============================================
   POINTER EVENTS & INTERACTION AREAS
   ============================================ */

#app-mount .wrapper__44b0c .pointerEvents__44b0c[x="14.5"] {
    /* Semi-transparent fill for interaction area */
    fill: rgba(0, 0, 0, 0.5) !important;
    
    /* Dynamic sizing based on member list width */
    width: var(--rs-members-width, 30px);
    height: var(--rs-members-width, 30px);
    
    /* Center the interaction area */
    x: calc(var(--rs-members-width, 30px) / 2 / -1 + 2px);
    y: calc(var(--rs-members-width, 30px) / 2 / -1);
}

/* ============================================
   AVATAR IMAGE STYLING
   ============================================ */

/* Apply border radius to avatar images */
#app-mount .wrapper__44b0c img, 
#app-mount .wrapper__44b0c.avatar__91a9d {
    border-radius: var(--rs-avatar-shape);
}

/* ============================================
   STATUS RECTANGLE STYLING
   ============================================ */

/* Base rectangle styling */
#app-mount .wrapper__44b0c rect {
    /* Reset positioning */
    x: 0;
    y: 0;
    width: 100%;
    height: 100%;
    
    /* Remove mask and ensure visibility */
    -webkit-mask: none;
    mask: none;
    display: block;
    
    /* Apply border radius */
    rx: var(--rs-avatar-shape);
    ry: var(--rs-avatar-shape);
    
    /* Transparent fill with stroke */
    fill: transparent !important;
    stroke-width: var(--rs-small-width);
}

/* ============================================
   STATUS COLOR MAPPING
   ============================================ */

/* Online status colors */
#app-mount .wrapper__44b0c rect[fill="#23a55a"], 
#app-mount .wrapper__44b0c rect[fill="#40a258"], 
#app-mount .wrapper__44b0c rect[fill="#43a25a"] {
    stroke: var(--rs-online-color);
}

/* Idle status colors */
#app-mount .wrapper__44b0c rect[fill="#f0b232"], 
#app-mount .wrapper__44b0c rect[fill="#cc954c"], 
#app-mount .wrapper__44b0c rect[fill="#ca9654"] {
    stroke: var(--rs-idle-color);
}

/* Do Not Disturb status colors */
#app-mount .wrapper__44b0c rect[fill="#f23f43"], 
#app-mount .wrapper__44b0c rect[fill="#d83a41"], 
#app-mount .wrapper__44b0c rect[fill="#d83a42"] {
    stroke: var(--rs-dnd-color);
}

/* Streaming status colors */
#app-mount .wrapper__44b0c rect[fill="#593695"], 
#app-mount .wrapper__44b0c rect[mask*=streaming], 
#app-mount .wrapper__44b0c rect[fill*="var(--status-purple"] {
    stroke: var(--rs-streaming-color);
}

/* Offline status colors */
#app-mount .wrapper__44b0c rect[fill="#80848e"] {
    stroke: var(--rs-offline-color);
}

/* Invisible status colors */
#app-mount .wrapper__44b0c rect[fill="#82858f"], 
#app-mount .wrapper__44b0c rect[fill="#82838b"] {
    stroke: var(--rs-invisible-color);
}

/* ============================================
   MOBILE INDICATOR STYLING
   ============================================ */

/* Mobile indicator icon with phone SVG */
#app-mount .wrapper__44b0c foreignObject[mask*=mobile]:after {
    content: "";
    display: var(--rs-phone-visible, block);
    
    /* Phone icon SVG mask */
    -webkit-mask: url('data:image/svg+xml; utf-8,<svg aria-hidden="true" focusable="false" data-prefix="fas" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"></path></svg>') center no-repeat;
    mask: url('data:image/svg+xml; utf-8,<svg aria-hidden="true" focusable="false" data-prefix="fas" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"></path></svg>') center no-repeat;
    
    /* Position in bottom-right corner */
    position: absolute;
    right: 0%;
    bottom: 0%;
    
    /* Use phone color or fallback to online color */
    background: var(--rs-phone-color, var(--rs-online-color));
    z-index: 1;
}

/* Mobile indicator stroke color */
#app-mount .wrapper__44b0c foreignObject[mask*=mobile] + rect {
    stroke: var(--rs-phone-color, var(--rs-online-color));
}

/* ============================================
   SPEAKING INDICATOR STYLING
   ============================================ */

#app-mount .avatarSpeaking__44b0c {
    /* Position speaking indicator */
    position: absolute;
    top: 2px;
    left: 2px;
    width: calc(100% - 4px);
    height: calc(100% - 4px);
    
    /* Apply border radius */
    border-radius: var(--rs-avatar-shape);
    
    /* Speaking indicator with custom color and background */
    box-shadow: 
        inset 0 0 0 2px var(--rs-self-speaking-colour, #57d39b), 
        inset 0 0 0 3px var(--background-secondary);
}

/* ============================================
   MESSAGE-SPECIFIC ADJUSTMENTS
   ============================================ */

/* Mobile indicator width adjustment in messages */
#app-mount .message__5126c .wrapper__44b0c foreignObject[mask*=mobile] {
    width: calc(100% + 3px);
}

/* Typing indicator width adjustment in messages */
#app-mount .message__5126c .wrapper__44b0c rect[mask*=typing] {
    width: calc(100% - 9px);
}

/* ============================================
   AVATAR HINT STYLING
   ============================================ */

/* Remove mask from avatar hint foreign objects */
#app-mount .avatarHint_f89da9 foreignObject {
    -webkit-mask: none;
    mask: none;
}

/* Avatar hint inner container styling */
#app-mount .avatarHintInner_f89da9 {
    /* Apply border radius */
    border-radius: var(--rs-avatar-shape) !important;
    
    /* Remove default padding */
    padding-top: 0;
    
    /* Calculate dimensions with spacing */
    width: calc(100% - var(--rs-medium-width) - var(--rs-medium-spacing) + 2px);
    height: calc(100% - var(--rs-medium-width) - var(--rs-medium-spacing) + 2px);
    
    /* Center the hint */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    position: relative;
}

/* ============================================
   OFFLINE AVATAR OVERRIDES
   ============================================ */

/* Remove clipping for offline members */
#app-mount .memberOffline-2lN7gt img {
    clip-path: none !important;
}

#app-mount .offline__5d473 img {
    clip-path: none !important;
}

/* Remove clipping for bot avatars */
#app-mount .avatarWrapperNonUserBot_f89da9 .wrapper__44b0c img {
    clip-path: none !important;
}

/* ============================================
   USER INFO ADJUSTMENTS
   ============================================ */

/* Fine-tune user info avatar positioning */
#app-mount .userInfo__0a06e .wrapper__44b0c {
    margin-top: 1px;
    margin-left: 1px;
}

/* ============================================
   VERSION DISPLAY
   ============================================ */

/* Display RadialStatus version in user info */
#app-mount .info__2debe .line__2debe:last-child:after {
    content: "RadialStatus " var(--rs-version);
    display: block;
}