/* ============================================
   STATUS INDICATOR STROKE BORDERS V2
   ============================================
   
   Custom stroke borders around user profiles to indicate status:
   - Online: Green stroke
   - Offline: Gray stroke  
   - Idle: Yellow stroke
   - Do Not Disturb: Red stroke
   - Invisible: Gray stroke
   
   Also hides original Discord status indicators
   
   ============================================ */

/* ============================================
   CSS VARIABLES FOR STATUS COLORS
   ============================================ */

   :root {
    /* Status stroke colors */
    --status-online-stroke: #43b581;
    --status-offline-stroke: #747f8d;
    --status-idle-stroke: #faa61a;
    --status-dnd-stroke: #f04747;
    --status-invisible-stroke: #747f8d;
    --status-streaming-stroke: #7289da;
}

/* ============================================
   TRANSFORM ORIGINAL DISCORD STATUS INDICATORS
   ============================================ */

/* Transform Discord's default status indicators into stroke borders */
.wrapper__44b0c rect,
.avatar__0a06e rect,
.avatar-2Vndt_ rect,
.avatar-2OC07D rect,
.avatar__1fed1 rect {
    /* Remove mask and ensure visibility */
    -webkit-mask: none;
    mask: none;
    display: block;
    
    /* Transparent fill with stroke */
    fill: transparent !important;
    stroke-width: 3px;
    
    /* Apply border radius */
    rx: 50%;
    ry: 50%;
}

/* Hide the small status dot indicators */
.wrapper__44b0c circle,
.avatar__0a06e circle,
.avatar-2Vndt_ circle,
.avatar-2OC07D circle,
.avatar__1fed1 circle {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
}

/* Hide status indicator dots by fill color */
circle[fill="#43b581"], /* Online green dot */
circle[fill="#faa61a"], /* Idle yellow dot */
circle[fill="#f04747"], /* DND red dot */
circle[fill="#747f8d"], /* Offline/Invisible gray dot */
circle[fill="#7289da"] { /* Streaming purple dot */
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
}

/* Remove mask from foreign objects */
.wrapper__44b0c foreignObject,
.avatar__0a06e foreignObject,
.avatar-2Vndt_ foreignObject,
.avatar-2OC07D foreignObject,
.avatar__1fed1 foreignObject {
    -webkit-mask: none;
    mask: none;
}

/* Hide mask circle */
.wrapper__44b0c .mask__44b0c > circle,
.avatar__0a06e .mask__44b0c > circle,
.avatar-2Vndt_ .mask__44b0c > circle,
.avatar-2OC07D .mask__44b0c > circle,
.avatar__1fed1 .mask__44b0c > circle {
    opacity: 0 !important;
}

/* ============================================
   BASE STROKE BORDER STYLES
   ============================================ */

/* Apply stroke borders to all status indicators */
.wrapper__44b0c,
.avatar__0a06e,
.avatar-2Vndt_,
.avatar-2OC07D,
.avatar__1fed1 {
    position: relative;
    transition: all 0.3s ease;
    /* Ensure profiles remain visible */
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    /* Apply circular border radius to avatars */
    border-radius: var(--rs-avatar-shape, 50%);
}

/* Apply border radius to avatar images */
.wrapper__44b0c img,
.avatar__0a06e img,
.avatar-2Vndt_ img,
.avatar-2OC07D img,
.avatar__1fed1 img {
    border-radius: var(--rs-avatar-shape, 50%);
}

/* ============================================
   ONLINE STATUS STROKE
   ============================================ */

/* Online status stroke color */
.wrapper__44b0c[aria-label*="Online"] rect,
.avatar__0a06e[aria-label*="Online"] rect,
.avatar-2Vndt_[aria-label*="Online"] rect,
.avatar-2OC07D[aria-label*="Online"] rect,
.avatar__1fed1[aria-label*="Online"] rect {
    stroke: var(--status-online-stroke);
}

/* ============================================
   OFFLINE STATUS STROKE
   ============================================ */

/* Offline status stroke color */
.wrapper__44b0c[aria-label*="Offline"] rect,
.avatar__0a06e[aria-label*="Offline"] rect,
.avatar-2Vndt_[aria-label*="Offline"] rect,
.avatar-2OC07D[aria-label*="Offline"] rect,
.avatar__1fed1[aria-label*="Offline"] rect {
    stroke: var(--status-offline-stroke);
}

/* ============================================
   IDLE STATUS STROKE
   ============================================ */

/* Idle status stroke color */
.wrapper__44b0c[aria-label*="Idle"] rect,
.avatar__0a06e[aria-label*="Idle"] rect,
.avatar-2Vndt_[aria-label*="Idle"] rect,
.avatar-2OC07D[aria-label*="Idle"] rect,
.avatar__1fed1[aria-label*="Idle"] rect {
    stroke: var(--status-idle-stroke);
}

/* ============================================
   DO NOT DISTURB STATUS STROKE
   ============================================ */

/* Do Not Disturb status stroke color */
.wrapper__44b0c[aria-label*="Do Not Disturb"] rect,
.avatar__0a06e[aria-label*="Do Not Disturb"] rect,
.avatar-2Vndt_[aria-label*="Do Not Disturb"] rect,
.avatar-2OC07D[aria-label*="Do Not Disturb"] rect,
.avatar__1fed1[aria-label*="Do Not Disturb"] rect {
    stroke: var(--status-dnd-stroke);
}

/* ============================================
   INVISIBLE STATUS STROKE
   ============================================ */

/* Invisible status stroke color */
.wrapper__44b0c[aria-label*="Invisible"] rect,
.avatar__0a06e[aria-label*="Invisible"] rect,
.avatar-2Vndt_[aria-label*="Invisible"] rect,
.avatar-2OC07D[aria-label*="Invisible"] rect,
.avatar__1fed1[aria-label*="Invisible"] rect {
    stroke: var(--status-invisible-stroke);
}

/* ============================================
   STREAMING STATUS STROKE
   ============================================ */

/* Streaming status stroke color */
.wrapper__44b0c[aria-label*="Streaming"] rect,
.avatar__0a06e[aria-label*="Streaming"] rect,
.avatar-2Vndt_[aria-label*="Streaming"] rect,
.avatar-2OC07D[aria-label*="Streaming"] rect,
.avatar__1fed1[aria-label*="Streaming"] rect {
    stroke: var(--status-streaming-stroke);
}

/* ============================================
   HOVER EFFECTS
   ============================================ */

/* Smooth transitions on hover */
.wrapper__44b0c:hover,
.avatar__0a06e:hover,
.avatar-2Vndt_:hover,
.avatar-2OC07D:hover,
.avatar__1fed1:hover {
    transition: all 0.2s ease;
}

/* ============================================
   ACCESSIBILITY & PERFORMANCE
   ============================================ */

/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
    .wrapper__44b0c,
    .avatar__0a06e,
    .avatar-2Vndt_,
    .avatar-2OC07D,
    .avatar__1fed1 {
        transition: none;
    }
}

/* ============================================
   ENSURE STATUS INDICATORS WORK DURING TYPING
   ============================================ */

/* Ensure avatars remain visible during typing */
[class*="typing"] .wrapper__44b0c,
[class*="typing"] .avatar__0a06e,
[class*="typing"] .avatar-2Vndt_,
[class*="typing"] .avatar-2OC07D,
[class*="typing"] .avatar__1fed1 {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* Ensure status rectangles work during typing */
[class*="typing"] .wrapper__44b0c rect,
[class*="typing"] .avatar__0a06e rect,
[class*="typing"] .avatar-2Vndt_ rect,
[class*="typing"] .avatar-2OC07D rect,
[class*="typing"] .avatar__1fed1 rect {
    fill: transparent !important;
    stroke-width: 3px;
    display: block !important;
}

/* ============================================
   CUSTOMIZATION VARIABLES
   ============================================ */

/* Users can override these variables to customize the stroke colors */
:root {
    /* Customize stroke colors (users can override these) */
    --status-online-stroke: #43b581;
    --status-offline-stroke: #747f8d;
    --status-idle-stroke: #faa61a;
    --status-dnd-stroke: #f04747;
    --status-invisible-stroke: #747f8d;
    --status-streaming-stroke: #7289da;
}
