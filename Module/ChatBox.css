/* ============================================
   CHAT BOX & MESSAGE AREA STYLING
   ============================================
   Comprehensive styling for Discord's chat interface including:
   - Font and typography settings
   - Unread message indicators and dividers
   - Message hover effects and styling
   - Chat input box customization
   - Typing indicators and animations
   - Context menus and popups
   - Video player controls
   ============================================ */

/* ============================================
   FONT & TYPOGRAPHY
   ============================================ */

/* Channel titles and message content font styling */
.title__9293f {
    font-family: var(--font-name);
    font-size: var(--font-size) !important;
}

/* Message content and markup font styling */
.messageContent_c19a55,
.contents_c19a55 {
    font-family: var(--font-name);
    font-size: var(--font-size) !important;
}

/* Headers in message markup */
.markup__75297 h1, 
.markup__75297 h2, 
.markup__75297 h3, 
.markup__75297 h4, 
.markup__75297 h5, 
.markup__75297 h6 {
    font-family: var(--font-name);
}

/* ============================================
   UNREAD MESSAGE INDICATORS
   ============================================ */

/* Custom "new unreads" pill positioning */
.container__7aaec.bottom__7aaec {
    z-index: 9999 !important;
}

/* Unread pill padding */
.bar__7aaec {
    padding: 14px 50px;
}

/* Hide default unread icon */
.unreadIcon__7aaec {
    display: none;
}

/* Unread divider text styling */
.text-xs-medium-2LRpEj {
    margin-left: 5px !important;
}

.text-xs-medium-2LRpEj:before {
    content: "▸ ";
}

.text-xs-medium-2LRpEj:after {
    content: " ◂";
}

/* Remove unread with date (causes theme issues) */
.hasContent__5126c {
    display: none;
}

/* Remove date divider */
.hasContent__908e2 {
    display: none;
}

/* Un-hide unread divider with date */
.isUnread__908e2 {
    display: flex !important;
}

/* Hide date in unread divider */
.content__908e2 {
    display: none;
}

/* Custom unread divider pill styling */
.unreadPillCap__908e2 {
    display: none;
    right: 50%;
}

.unreadPill__908e2 {
    background-color: var(--background-shading);
    color: #fb5454;
    font-size: 12px;
    letter-spacing: 20px;
    right: 50%;
    left: 50%;
    width: 30px;
    top: -6px;
}

/* Custom unread divider gradient line */
.isUnread__908e2 {
    --divider-color: rgb(237, 0, 255);
    border: none;
    background: linear-gradient(
        90deg,
        rgba(237, 0, 255, 1) 0%,
        #fb5454 25%,
        rgba(0, 0, 0, 0) 50%,
        #fb5454 75%,
        rgba(254, 0, 255, 1) 100%
    );
    height: 1px;
}

/* ============================================
   MESSAGE HOVER EFFECTS
   ============================================ */

/* Message hover button background - Dark theme */
html.theme-dark .wrapper_f7ecac {
    background: rgb(51, 49, 53) !important;
}

/* Message hover button background - Light theme */
html.theme-light .wrapper_f7ecac {
    background: rgb(243, 243, 243) !important;
}

/* Message container border radius */
.message__5126c {
    border-radius: 8px !important;
}

/* Mentioned message border radius */
.mentioned__5126c {
    border-radius: 0 8px 8px 0 !important;
}

/* ============================================
   CHANNEL LIST STYLING
   ============================================ */

/* Channel resize - name font size */
.sidebar_c48ade .name__2ea32 {
    font-size: 14px;
}

/* Channel resize - icon dimensions */
.sidebar_c48ade .icon__2ea32 {
    width: 16px;
    height: 16px;
}

/* ============================================
   VIDEO PLAYER CONTROLS
   ============================================ */

/* Video controls container styling */
.videoControls_cf09d8 {
    width: auto;
    margin: 15px;
    padding-bottom: 0px;
    border-radius: 8px;
    background-color: #000000f1;
    transform: none !important;
    transition: 0.2s;
}

/* Hidden controls margin adjustment */
.wrapperControlsHidden_cf09d8 .videoControls_cf09d8 {
    margin-bottom: -30px;
}

/* ============================================
   TYPING INDICATORS
   ============================================ */

/* Typing dots spacing */
.dots-1BwzZQ {
    margin-right: 5px;
}

/* Typing indicator container */
.base_b88801 .text_b88801 {
    display: flex;
    align-items: center;
}

/* Typing indicator positioning and spacing */
.typing_b88801 {
    font-size: 0;
    /* Stop chat messages from shifting when typing starts/stops */
    margin-top: -24px;
}

/* Scroller spacer for typing indicator */
.scrollerSpacer__36d07 {
    /* Fix the typing indicator spacing */
    height: calc(var(--space-16) + 16px);
}

/* Typing indicator text styling */
.typing_b88801 strong {
    font-size: 12px;
}

/* Typing indicator comma separators */
.typing_b88801 strong:after {
    content: ',';
    margin-right: 4px;
}

/* "and" separator for multiple typers */
.typing_b88801 strong:nth-last-child(2)::after {
    content: 'and';
    margin: 0 4px;
    color: rgba(255, 255, 255, 0.8);
    font-weight: 400;
    margin-top: -5px;
}

/* Multiple person typing indicator */
.typing_b88801 strong:last-of-type::after {
    content: var(--programmer-input-typing-indicator-many-person);
    color: rgba(255, 255, 255, 0.8);
    font-weight: 400;
    margin-top: -5px;
    margin-left: 4px;
}

/* Single person typing indicator */
.typing_b88801 strong:only-of-type::after {
    content: var(--programmer-input-typing-indicator-one-person);
    color: rgba(255, 255, 255, 0.8);
    font-weight: 400;
    margin-top: -5px;
    margin-left: 4px;
}

/* ============================================
   CHAT INPUT BOX STYLING
   ============================================ */

/* Chat input box base styling */
.input-2g-os5,
.scrollableContainer__74017 {
    background-color: transparent !important;
    transition: background-color 0.2s ease, border-color 0.2s ease;
    outline: none;
    border-radius: 15px;
}

/* Hide default placeholder text */
.placeholder__1b31f.slateTextArea_ec4baf.fontSize16Padding__74017 {
    color: transparent !important;
}

/* Input box hover effects - Dark theme */
html.theme-dark .input-2g-os5:hover,
html.theme-dark .scrollableContainer__74017:hover {
    background-color: #00000023 !important;
}

/* Input box hover effects - Light theme */
html.theme-light .input-2g-os5:hover,
html.theme-light .scrollableContainer__74017:hover {
    background-color: #ffffff23 !important;
}

/* Input box focus effects - Dark theme */
html.theme-dark .input-2g-os5:focus-within,
html.theme-dark .scrollableContainer__74017:focus-within {
    background-color: #181a1d !important;
    box-shadow: 0 5px 8px #15171a;
}

/* Input box focus effects - Light theme */
html.theme-light .input-2g-os5:focus-within,
html.theme-light .scrollableContainer__74017:focus-within {
    background-color: #e4e4e4 !important;
    box-shadow: 0 5px 8px #d6d6d6;
}

/* ============================================
   PLACEHOLDER TEXT CUSTOMIZATION
   ============================================ */

/* Hide original placeholder */
.placeholder__1b31f {
    visibility: hidden !important;
}

/* Custom placeholder text */
.placeholder__1b31f::before {
    content: var(--programmer-input-field);
    font-family: "Poppins";
    font-size: 13px;
    visibility: visible !important;
}

/* Custom placeholder color - Dark theme */
html.theme-dark .placeholder__1b31f::before {
    color: rgba(255, 255, 255, 0.2);
}

/* Custom placeholder color - Light theme */
html.theme-light .placeholder__1b31f::before {
    color: rgba(0, 0, 0, 0.2);
}

/* Locked channel placeholder text */
.innerDisabled__74017 .placeholder__1b31f::before {
    content: var(--programmer-input-field-locked) !important;
}

/* ============================================
   INPUT BOX LAYOUT & CONTROLS
   ============================================ */

/* Fix scroll when text box is empty */
.inner__74017 {
    overflow: hidden !important;
}

/* Apps button next to text box */
.button_e6e74f {
    background-color: transparent;
    transition: background-color 0.2s ease;
}

.button_e6e74f:hover {
    background-color: #00000023;
}

.buttonActive_e6e74f {
    background-color: #181a1d;
}

/* Form layout for typing indicator positioning */
.form_f75fb0 {
    display: flex;
    flex-direction: column;
}

/* Input box order */
.form_f75fb0 > div:first-child {
    order: 2;
}

/* Channel text area margin adjustment */
.channelTextArea_f75fb0 {
    /* Remove margin for original typing indicator position */
    margin-bottom: calc(var(--space-8) - 2px);
}

/* Transparent input box when not focused */
.visual-refresh .channelTextArea_f75fb0 {
    background: transparent !important;
}

/* Typing indicator margin when active */
.form_f75fb0:has(.base_b88801) .form_f75fb0 {
    margin-top: var(--custom-chat-input-margin-bottom);
}

/* Typing indicator positioning */
.base_b88801 {
    position: static;
    order: 1;
}

/* ============================================
   REACTION POPUPS & CONTEXT MENUS
   ============================================ */

/* Reaction reactors background */
.container_cc2dff,
.reactors_cc2dff {
    background-color: #181a1db7;
}

/* Reaction container backgrounds - Dark theme */
html.theme-dark .container_faa96b.isOpen_faa96b {
    background-color: #181a1d;
}

html.theme-dark .container-2qVG6q:hover {
    background-color: #181a1db7;
}

/* Reaction scroller background */
.scroller_cc2dff {
    background-color: #00000050;
}

/* ============================================
   SLOWMODE & MESSAGE HIGHLIGHTS
   ============================================ */

/* Remove slowmode message */
.cooldownWrapper_b21699 {
    font-size: 0px;
}

/* Increase visibility of message highlight */
.backgroundFlash__5126c[style*="background-color: rgba(148, 156, 247, 0)"] {
    --message-background-flash: rgba(var(--accentcolor), 0.2) !important;
}

/* ============================================
   DM HIGHLIGHTING
   ============================================ */

/* Make unread DMs highlighted based on accent color */
.link__972a0:has(.highlighted__20a53) {
    border-left: 2px solid rgba(var(--accentcolor), 0.8);
    background: linear-gradient(
        90deg,
        rgba(var(--accentcolor), 0.3),
        rgba(var(--accentcolor), 0.2),
        transparent
    );
}

/* ============================================
   CONTEXT MENU BLUR EFFECTS
   ============================================ */

/* Right click menu background - Dark theme */
html.theme-dark .menu_c1e9c4 {
    background-color: rgba(0, 0, 0, 0.3);
}

/* Right click menu background - Light theme */
html.theme-light .menu_c1e9c4 {
    background-color: rgba(255, 255, 255, 0.3);
}

/* Menu blur effect */
.menu_c1e9c4::before,
.menu_c1e9c4.submenu-1apzyU::before {
    /* Blurs the menu */
    content: "";
    position: absolute;
    height: 100%;
    width: 100%;
    -webkit-backdrop-filter: blur(5px);
    backdrop-filter: blur(15px);
    z-index: -1;
    border-radius: 5px;
}

/* Fix blur in nested floating menu */
.submenu_c1e9c4.menu_c1e9c4::before {
    width: calc(100% - 16px);
}